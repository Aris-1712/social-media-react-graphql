(this["webpackJsonpsocial-media"]=this["webpackJsonpsocial-media"]||[]).push([[0],{147:function(e,t,n){},148:function(e,t,n){},166:function(e,t,n){},176:function(e,t,n){},179:function(e,t,n){},180:function(e,t,n){},181:function(e,t,n){},182:function(e,t,n){},183:function(e,t,n){},184:function(e,t,n){},185:function(e,t,n){},203:function(e,t,n){"use strict";n.r(t);var c=n(4),a=n(1),s=n.n(a),i=n(41),r=n.n(i),o=(n(147),n.p,n(148),n(28)),u=n.n(o),l=n(6),j=(n(166),n(225)),d=n(216),m=n(217),b=n(226),f="https://stark-ocean-73455.herokuapp.com/",h=n(14),O=n(15),g=n.n(O),p=n(25),x=n(13),y=function(e){return new Promise((function(t,n){u()({url:f,method:"post",data:{query:'\n    mutation{\n        signin(email:"'.concat(e.email,'",pass:"').concat(e.password,'")\n        }\n      ')}}).then((function(c){if("errors"in c.data)alert("Incorrect username or password"),n(c.data.errors[0].message);else{localStorage.setItem("x-auth-token",c.data.data.signin);var a=v(e.email);t(a)}})).catch((function(e){alert("Incorrect username or password"),n(e)}))}))},v=function(){var e=Object(p.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,u.a.post(f,{query:'mutation{\n            getUser(email:"'.concat(t,'"){\n                Name\n                _id\n                image\n                email\n                followers{\n                    Name\n                    _id\n                    image\n                }\n                following{\n                    Name\n                    _id\n                    image\n                }\n                Age\n                posts{\n                    _id\n                    Title\n                    Body\n                    Image\n                    Likes{\n                        _id\n                        Name\n                        image\n                    }\n                    comments{\n                        Text\n                        time\n                        user{\n                            _id\n                            Name\n                            image\n                        }\n                    }\n                    time\n                }\n\n          }\n}')},{headers:{"x-auth-token":localStorage.getItem("x-auth-token")}});case 3:return n=e.sent,console.log(n),localStorage.setItem("user_email",t),e.abrupt("return",n);case 9:e.prev=9,e.t0=e.catch(0),x.a;case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}(),S=function(e,t){return new Promise((function(n,c){u.a.post(f,{query:'\n            mutation{\n              createComment(pid:"'.concat(e,'",text:"').concat(t,'",time:"').concat((new Date).toISOString(),'"){\n                Text\n                user{\n                  Name\n                }\n              }\n            }\n      ')},{headers:{"x-auth-token":localStorage.getItem("x-auth-token")}}).then((function(e){n(e)}))}))},k=function(e){return new Promise((function(t,n){u.a.post(f,{query:'mutation{\n                        getPost(id:"'.concat(e,'"){\n                          Title\n                          _id\n                          Body\n                          Image\n                          user{\n                            Name\n                            _id\n                            image\n                          }\n                          comments{\n                            time\n                              Text\n                            user{\n                              image\n                              Name\n                              _id\n                            }\n                          }\n                          Likes{\n                            Name\n                            image\n                            _id\n                          }\n                          \n                        }\n                      }')},{headers:{"x-auth-token":localStorage.getItem("x-auth-token")}}).then((function(e){t(e.data.data.getPost)})).catch((function(e){n(e)}))}))},w=function(e){return new Promise((function(t,n){u.a.post(f,{query:'\n          mutation{\n            createPost(title:"'.concat(e.title,'",body:"').concat(e.body,'",Image:"').concat(e.Image,'",time:"').concat(e.time,'"){\n              Title\n              _id\n              user{\n                Name\n              }\n              comments{\n                id\n              }\n            }\n          }\n    ')},{headers:{"x-auth-token":localStorage.getItem("x-auth-token")}}).then((function(e){t(e)}))}))},N=function(e){return{type:"SIGNIN",payLoad:e}},_=function(){return function(){var e=Object(p.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){u.a.post(f,{query:"\n          query{\n              getPosts{\n                Title\n                Body\n                Image\n                _id\n                Likes{\n                  Name\n                  _id\n                  image\n                }\n                user{\n                  Name\n                  _id\n                  image\n                  followers{\n                    _id\n                    Name\n                    image\n                  }\n                  following{\n                    _id\n                    Name\n                    image\n                  }\n                  posts{\n                    _id\n                  }\n                }\n                comments{\n                  Text\n                  time\n                  user{\n                    Name\n                    _id\n                    image\n                  }\n                }\n              }\n            }\n  "},{headers:{"x-auth-token":localStorage.getItem("x-auth-token")}}).then((function(t){e(Object(h.a)(t.data.data.getPosts))})).catch((function(e){alert(e),t(e)}))}));case 2:return n=e.sent,e.abrupt("return",t({type:"GET_POSTS",payLoad:Object(h.a)(n)}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},I=function(){return function(){var e=Object(p.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v();case 2:return n=e.sent,e.abrupt("return",t(N(n)));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},C=n(30),L=Object(C.b)((function(e){return{user:e.user}}),(function(e){return{signin:function(t){e(function(e){return function(){var t=Object(p.a)(g.a.mark((function t(n){var c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,y(e);case 2:return c=t.sent,t.abrupt("return",n(N(c)));case 4:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}(t))}}}))((function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),s=n[0],i=n[1],r=Object(a.useState)(""),o=Object(l.a)(r,2),u=o[0],f=o[1],h=Object(a.useState)(!1),O=Object(l.a)(h,2),g=O[0],p=O[1];Object(a.useEffect)((function(){localStorage.getItem("x-auth-token")&&""!==localStorage.getItem("x-auth-token")&&e.history.push("/home")}),[e]);return Object(c.jsx)("div",{className:"login",children:Object(c.jsxs)("div",{className:"login_holder",children:[Object(c.jsx)("img",{src:"/social-media/Logo/dark.png"}),Object(c.jsx)("h1",{children:"Login"}),Object(c.jsx)(j.a,{placeholder:"Enter Email",size:"md",onChange:function(e){i(e.target.value)}}),Object(c.jsxs)(d.a,{size:"md",children:[Object(c.jsx)(j.a,{pr:"4.5rem",type:g?"text":"password",placeholder:"Enter Password",onChange:function(e){f(e.target.value)}}),Object(c.jsx)(m.b,{width:"4.5rem",children:Object(c.jsx)(b.a,{h:"1.75rem",size:"sm",onClick:function(){return p(!g)},children:g?"Hide":"Show"})})]}),Object(c.jsx)(b.a,{onClick:function(){e.signin({email:s,password:u})},colorScheme:"blue",children:"Login"})]})})})),T=n(227),E=(n(176),n(229)),P=n(223),z=n(87);z.a.initializeApp({apiKey:"AIzaSyAeQQP_p1JVfQ7CExQtfNkYvDNQbTVQiA4",authDomain:"social-media-961de.firebaseapp.com",projectId:"social-media-961de",storageBucket:"social-media-961de.appspot.com",messagingSenderId:"769621990838",appId:"1:769621990838:web:dc552b04d1a8039626b517"});var U=z.a,A=function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),s=n[0],i=n[1],r=Object(a.useState)(""),o=Object(l.a)(r,2),h=o[0],O=o[1],x=Object(a.useState)(""),y=Object(l.a)(x,2),v=y[0],S=y[1],k=Object(a.useState)(""),w=Object(l.a)(k,2),N=w[0],_=w[1],I=Object(a.useState)(!1),C=Object(l.a)(I,2),L=C[0],T=C[1],z=Object(a.useState)(""),A=Object(l.a)(z,2),D=A[0],B=A[1],R=Object(a.useState)(),F=Object(l.a)(R,2),q=F[0],W=F[1],G=function(e){return new Promise((function(t,n){var c=U.storage().ref().child("images/"+e).put(q);c.on(U.storage.TaskEvent.STATE_CHANGED,(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case U.storage.TaskState.PAUSED:break;case U.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){console.log(e),n("UPLOAD FAILED")}),(function(){c.snapshot.ref.getDownloadURL().then((function(e){t(e)}))}))}))};return Object(c.jsx)("div",{className:"signup",children:Object(c.jsxs)("div",{className:"signup_holder",children:[Object(c.jsx)("img",{src:"/social-media/Logo/dark.png"}),Object(c.jsx)("h1",{children:"Signup"}),Object(c.jsx)(E.a,{onClick:function(){document.getElementById("profile_pic").click()},size:"2xl",name:s,src:D}),Object(c.jsx)("input",{onChange:function(e){W(e.target.files[0]),B(URL.createObjectURL(e.target.files[0]))},id:"profile_pic",type:"file",style:{display:"none"}}),Object(c.jsx)(j.a,{placeholder:"Enter Name",size:"md",onChange:function(e){i(e.target.value)}}),Object(c.jsx)(j.a,{placeholder:"Enter Age",size:"md",onChange:function(e){O(e.target.value)}}),Object(c.jsx)(j.a,{placeholder:"Enter Email",size:"md",onChange:function(e){S(e.target.value)}}),Object(c.jsxs)(d.a,{size:"md",children:[Object(c.jsx)(j.a,{pr:"4.5rem",type:L?"text":"password",placeholder:"Enter Password",onChange:function(e){_(e.target.value)}}),Object(c.jsx)(m.b,{width:"4.5rem",children:Object(c.jsx)(b.a,{h:"1.75rem",size:"sm",onClick:function(){return T(!L)},children:L?"Hide":"Show"})})]}),Object(c.jsx)(b.a,{onClick:Object(p.a)(g.a.mark((function t(){var n,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=Object(P.a)(),t.next=3,G(n);case 3:c=t.sent,u()({url:f,method:"post",data:{query:'\n                        mutation{\n                            createUser(email:"'.concat(v,'",Age:').concat(h,',name:"').concat(s,'",password:"').concat(N,'",image:"').concat(c,'"){\n                              Name\n                              _id\n                              Age\n                            }\n                          }\n              ')}}).then((function(t){localStorage.setItem("user",t.data),e.history.push("/signin")}));case 5:case"end":return t.stop()}}),t)}))),colorScheme:"blue",children:"Signup"})]})})},D=n(219),B=n(224),R=n(122),F=n(124),q=n(123),W=n(222),G=(n(179),Object(C.b)((function(e){return{user:e.user}}),(function(e){return{getUser:function(){e(I(localStorage.getItem("user_email")))},getPosts:function(){e(_())}}}))((function(e){var t=Object(W.a)(),n=Object(a.useState)({}),s=Object(l.a)(n,2),i=s[0],r=s[1],o=Object(a.useState)(!1),u=Object(l.a)(o,2),d=u[0],m=u[1],f=Object(a.useState)(null),h=Object(l.a)(f,2),O=h[0],x=h[1],y=Object(a.useState)(""),v=Object(l.a)(y,2),S=v[0],k=v[1],N=Object(a.useState)(""),_=Object(l.a)(N,2),I=_[0],C=_[1];Object(a.useEffect)((function(){e.getUser()}),[]),Object(a.useEffect)((function(){console.log(e.user),"data"in e.user&&!("error"in e.user.data)&&r(e.user.data.data.getUser)}),[e.user]);var L=function(e){return new Promise((function(t,n){var c=U.storage().ref().child("images/"+e).put(O);c.on(U.storage.TaskEvent.STATE_CHANGED,(function(e){var t=e.bytesTransferred/e.totalBytes*100;switch(console.log("Upload is "+t+"% done"),e.state){case U.storage.TaskState.PAUSED:break;case U.storage.TaskState.RUNNING:console.log("Upload is running")}}),(function(e){console.log(e),n("UPLOAD FAILED")}),(function(){c.snapshot.ref.getDownloadURL().then((function(e){t(e)}))}))}))},T=function(){var n=Object(p.a)(g.a.mark((function n(){var c,a,s;return g.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(c=null,!O){n.next=6;break}return a=Object(P.a)(),n.next=5,L(a);case 5:c=n.sent;case 6:return s={Image:O?c:"",body:I,title:S,time:new Date},n.next=9,w(s);case 9:n.sent,e.getPosts(),z(),t({title:"Posted successfully.",status:"success",duration:9e3,isClosable:!0});case 13:case"end":return n.stop()}}),n)})));return function(){return n.apply(this,arguments)}}(),z=function(){x(null),k(""),m(!1),C("")};return Object(c.jsx)("div",{children:0!==Object.keys(i).length?Object(c.jsxs)("div",{className:"newPostHolder",style:{display:"flex",flexDirection:"column"},children:[Object(c.jsxs)("div",{className:"newpost",children:[Object(c.jsx)(E.a,{size:"md",name:i.Name,src:i.image}),Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"column",width:"100%",padding:10},children:[O?Object(c.jsx)("img",{style:{marginBottom:10},src:URL.createObjectURL(O)}):null,Object(c.jsx)(j.a,{onChange:function(e){C(e.target.value)},style:{borderRadius:15,height:75,marginLeft:10},placeholder:"What's on your mind, ".concat(i.Name.split(" ")[0]," ?"),size:"lg"}),Object(c.jsx)(j.a,{onChange:function(e){k(e.target.value)},placeholder:"Enter title",style:{visibility:d?"visible":"hidden",height:d?50:0,borderRadius:15,marginLeft:10,marginTop:20,transition:"height 0.2s,visibility 0.1s"}})]})]}),Object(c.jsx)(D.a,{}),Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-evenly",marginTop:15,marginBottom:15},children:[Object(c.jsx)(b.a,{onClick:function(){m(!d)},variant:"ghost",colorScheme:"green",leftIcon:Object(c.jsx)(R.a,{}),children:"Add Title"}),Object(c.jsx)(b.a,{onClick:function(){document.getElementById("image_select").click()},type:"file",variant:"ghost",colorScheme:"red",leftIcon:Object(c.jsx)(q.a,{}),children:"Add Image"}),Object(c.jsx)(b.a,{onClick:T,variant:"ghost",colorScheme:"blue",leftIcon:Object(c.jsx)(F.a,{}),children:"POST"}),Object(c.jsx)("input",{id:"image_select",onChange:function(e){x(e.target.files[0])},type:"file",style:{display:"none"}})]})]}):Object(c.jsx)("div",{children:Object(c.jsx)(B.a,{height:"400px"})})})}))),H=n(21),Q=n(220),J=(n(180),n(221)),V=function(e){return Object(c.jsx)(c.Fragment,{children:Object(c.jsxs)(J.a,{isOpen:e.open,onClose:e.close,children:[Object(c.jsx)(J.g,{}),Object(c.jsxs)(J.d,{children:[Object(c.jsx)(J.f,{children:"Liked By"}),Object(c.jsx)(J.c,{}),Object(c.jsx)(D.a,{}),Object(c.jsx)(J.b,{children:Object(c.jsx)("div",{style:{display:"flex",flexDirection:"column"},children:e.Likes.map((function(e){return Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row",marginBottom:15,marginTop:15},children:[Object(c.jsx)(E.a,{size:"sm",name:e.Name,src:e.image}),Object(c.jsx)(Q.a,{fontSize:"md",style:{fontWeight:600,marginLeft:10},children:e.Name})]})}))})}),Object(c.jsx)(J.e,{})]})]})})},K=Object(x.g)(Object(C.b)((function(e){return{user:e.user}}),(function(e){return{getPosts:function(){e(_())}}}))((function(e){var t=Object(a.useState)(),n=Object(l.a)(t,2),s=n[0],i=n[1],r=Object(a.useState)(""),o=Object(l.a)(r,2),d=o[0],m=o[1],O=Object(a.useState)(!1),x=Object(l.a)(O,2),y=x[0],v=x[1],S=Object(a.useState)(!1),k=Object(l.a)(S,2),w=k[0],N=k[1];Object(a.useEffect)((function(){"undefined"!==typeof s&&"data"in e.user&&!("error"in e.user.data)&&(s.Likes.forEach((function(t){t._id===e.user.data.data.getUser._id?N(!0):N(!1)})),0===s.Likes.length&&N(!1))}),[e.user,s]),Object(a.useEffect)((function(){i(e.post)}),[]);var _=function(){var t=Object(p.a)(g.a.mark((function t(){var n,c;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(H.a)({},s),(c=Object(H.a)({},s)).Likes=[].concat(Object(h.a)(c.Likes),[{_id:e.user.data.data.getUser._id,image:e.user.data.data.getUser.image,Name:e.user.data.data.getUser.Name}]),i(Object(H.a)({},c)),u.a.post(f,{query:'\n            mutation{\n                likePost(id:"'.concat(s._id,'"){\n                  Likes{\n                    _id\n                    Name\n                  }\n                  Title\n                  user{\n                    Name\n                    Age\n                    image\n                  }\n                }\n              }\n      ')},{headers:{"x-auth-token":localStorage.getItem("x-auth-token")}}).then((function(t){e.update()})).catch((function(e){i(Object(H.a)({},n))}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),I=function(){var t=Object(p.a)(g.a.mark((function t(){var n,c,a;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:n=Object(H.a)({},s),c=Object(H.a)({},s),a=c.Likes.filter((function(t){return t._id!==e.user.data.data.getUser._id})),c.Likes=Object(h.a)(a),i(Object(H.a)({},c)),u.a.post(f,{query:'\n          mutation{\n              dislikePost(id:"'.concat(s._id,'"){\n                Likes{\n                  _id\n                  Name\n                }\n                Title\n                user{\n                  Name\n                  Age\n                  image\n                }\n              }\n            }\n    ')},{headers:{"x-auth-token":localStorage.getItem("x-auth-token")}}).then((function(t){e.update()})).catch((function(e){console.log(e),i(Object(H.a)({},n))}));case 6:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"post",children:"undefined"===typeof s?Object(c.jsx)(B.a,{height:"400px"}):Object(c.jsxs)("div",{children:[Object(c.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(c.jsx)(E.a,{style:{cursor:"pointer"},onClick:function(){e.history.push({pathname:"/profile",state:{user:s.user}})},size:"sm",name:s.user.Name,src:s.user.image}),Object(c.jsx)(Q.a,{fontSize:"md",style:{fontWeight:600,marginLeft:10},children:s.user.Name})]}),Object(c.jsx)(D.a,{className:"divider"}),""!==s.Image?Object(c.jsxs)(c.Fragment,{children:[Object(c.jsx)("img",{class:"post_img",src:s.Image}),Object(c.jsx)(D.a,{className:"divider"})]}):null,Object(c.jsx)(Q.a,{fontSize:"sm",style:{fontWeight:600},children:s.Title}),Object(c.jsx)(Q.a,{fontSize:"sm",children:s.Body}),Object(c.jsx)(D.a,{className:"divider"}),Object(c.jsxs)("div",{children:[w?Object(c.jsx)("i",{onClick:I,class:"fa fa-thumbs-up","aria-hidden":"true",style:{color:"#e64949",fontSize:20,marginRight:10,cursor:"pointer"}}):Object(c.jsx)("i",{onClick:_,class:"fa fa-thumbs-o-up","aria-hidden":"true",style:{color:"#e64949",fontSize:20,marginRight:10,cursor:"pointer"}}),Object(c.jsx)(Q.a,{className:"like_text",onClick:function(){v(!0)},children:"".concat(s.Likes?s.Likes.length:0," Likes")}),Object(c.jsx)("i",{style:{color:"#082d0f",fontSize:20,marginLeft:20,marginRight:10},class:"fa fa-comments","aria-hidden":"true"}),Object(c.jsx)(Q.a,{onClick:function(){"/home"===e.location.pathname&&e.history.push("/post/".concat(s._id))},className:"comment_text",children:"".concat(s.comments?s.comments.length:0," Comments")})]}),Object(c.jsx)(D.a,{className:"divider"}),void 0!==e.children?Object(c.jsxs)("div",{children:[e.children,Object(c.jsx)(D.a,{className:"divider"})]}):null,Object(c.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:10,justifyContent:"space-between"},children:[Object(c.jsx)(j.a,{value:d,onChange:function(e){m(e.target.value)},style:{borderRadius:100},placeholder:"Enter comment...",size:"md"})," ",Object(c.jsx)(b.a,{onClick:function(){e.postcomment(d,s._id),m("")},style:{marginLeft:5},colorScheme:"teal",size:"md",children:"POST"})]}),Object(c.jsx)(V,{Likes:s.Likes,open:y,close:function(){v(!1)}})]})})}))),M=(n(181),n(182),n(125)),Y=n.n(M),X=Object(x.g)((function(e){var t=e.item;return t?Object(c.jsxs)("div",{className:"comment",children:[Object(c.jsx)(E.a,{style:{cursor:"pointer"},onClick:function(){e.history.push({pathname:"/profile",state:{user:t.user}})},size:"sm",name:t.user.Name,src:t.user.image}),Object(c.jsxs)("div",{className:"comment_sec",children:[Object(c.jsx)(Q.a,{fontSize:"sm",style:{fontWeight:600},children:t.user.Name}),Object(c.jsx)(Q.a,{fontSize:"sm",style:{wordBreak:"break-all"},children:t.Text}),Object(c.jsx)(Q.a,{fontSize:"xs",style:{wordBreak:"break-all",color:"grey"},children:Y()(t.time).fromNow()})]})]}):Object(c.jsx)("div",{children:"No Comments."})})),Z=function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),s=n[0],i=n[1];return Object(a.useEffect)((function(){i(Object(h.a)(e.comments))}),[e]),Object(c.jsx)("div",{className:"comments",children:e.home?Object(c.jsx)(X,{item:s[s.length-1]}):s.map((function(e){return Object(c.jsx)(X,{item:e})}))})},$=Object(x.g)(Object(C.b)((function(e){return{posts:e.posts,user:e.user}}),(function(e){return{getPosts:function(){e(_())},getUsers:function(){e(function(){var e=Object(p.a)(g.a.mark((function e(t){var n;return g.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,new Promise((function(e,t){u.a.post(f,{query:"query{\n        getUsers{\n          Name\n          _id\n          image\n          email\n          followers{\n              Name\n              _id\n              image\n          }\n          following{\n              Name\n              _id\n              image\n          }\n          Age\n          posts{\n              _id\n              Title\n              Body\n              Image\n              Likes{\n                  _id\n                  Name\n                  image\n              }\n              comments{\n                  Text\n                  time\n                  user{\n                      _id\n                      Name\n                      image\n                  }\n              }\n              time\n          }\n\n    }\n      }"},{headers:{"x-auth-token":localStorage.getItem("x-auth-token")}}).then((function(t){e(t)}))}));case 2:return n=e.sent,e.abrupt("return",t({type:"GET_USERS",payLoad:n.data.data.getUsers}));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}}}))((function(e){var t=Object(a.useState)([]),n=Object(l.a)(t,2),s=n[0],i=n[1];Object(a.useEffect)((function(){console.log("HERE"),e.getPosts(),e.getUsers()}),[]),Object(a.useEffect)((function(){console.log(e.posts),i(Object(h.a)(e.posts).reverse())}),[e.posts]);var r=function(){var t=Object(p.a)(g.a.mark((function t(n,c){var a,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=[],r=Object(h.a)(s),s.map((function(t){t._id==c&&t.comments.push({Text:n,user:Object(H.a)({},e.user.data.data.getUser)}),a.push(t)})),i([].concat(a)),t.next=6,S(c,n);case 6:t.sent.error&&(i(Object(h.a)(r)),e.getPosts(),alert("Something went wrong"));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(c.jsx)(c.Fragment,{children:e.profile?s.map((function(t){if(console.log(e.profile,t._id),t.user._id===e.profile)return Object(c.jsx)(K,{postcomment:r,post:t,children:Object(c.jsx)(Z,{home:!0,comments:t.comments})})})):s.map((function(t){return Object(c.jsx)(K,{update:function(){return e.getPosts()},postcomment:r,post:t,children:Object(c.jsx)(Z,{home:!0,comments:t.comments})})}))})}))),ee=(n(183),function(e){return Object(c.jsxs)("div",{className:"home",children:[Object(c.jsx)("div",{className:"sec1"}),Object(c.jsxs)("div",{className:"sec2",children:[Object(c.jsx)(G,{}),Object(c.jsx)($,{})]}),Object(c.jsx)("div",{className:"sec3"})]})}),te=(n(184),Object(x.g)(Object(C.b)((function(e){return{posts:e.posts}}),(function(e){return{getPosts:function(){e(_())}}}))((function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),s=n[0],i=n[1];Object(a.useEffect)((function(){(function(){var t=Object(p.a)(g.a.mark((function t(){var n;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,k(e.match.params.id);case 2:n=t.sent,i(n);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[]);var r=function(){var t=Object(p.a)(g.a.mark((function t(n,c){var a,r;return g.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=Object(H.a)({},s),r=Object(H.a)({},s),a.comments=[].concat(Object(h.a)(a.comments),[{Text:n,time:(new Date).toISOString(),user:Object(H.a)({},a.user)}]),i(Object(H.a)({},a)),t.next=6,S(c,n);case 6:t.sent.error&&(i(Object(H.a)({},r)),e.getPosts(),alert("Something went wrong"));case 8:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}}();return Object(c.jsx)("div",{className:"Postdetail",children:void 0===s.Title?Object(c.jsx)("div",{children:Object(c.jsx)(B.a,{height:"400px"})}):Object(c.jsx)(K,{postcomment:r,post:s,children:Object(c.jsx)(Z,{home:!1,comments:s.comments})})})})))),ne=n(126),ce=Object(C.b)((function(e){return{user:e.user}}),(function(e){return{getUser:function(){e(I())}}}))((function(e){var t=Object(a.useState)({}),n=Object(l.a)(t,2),s=n[0],i=n[1];return Object(a.useEffect)((function(){"undefined"!==typeof e.location.state&&i(e.location.state.user)}),[e.location]),"undefined"===typeof e.location.state?Object(c.jsx)(x.a,{to:"/home"}):Object(c.jsx)("div",{children:0!==Object.keys(s).length?Object(c.jsxs)("div",{style:{width:"50%",margin:"100px auto"},children:[Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",flexDirection:"column"},children:[Object(c.jsx)("div",{style:{border:"3px solid #17b890",borderRadius:100,padding:10},children:Object(c.jsx)(E.a,{size:"2xl",name:s.Name,src:s.image})}),Object(c.jsx)(Q.a,{style:{fontWeight:500},fontSize:"4xl",children:s.Name}),Object(c.jsx)(b.a,{style:{marginTop:10,fontSize:15},leftIcon:Object(c.jsx)(ne.a,{}),colorScheme:"blue",variant:"outline",children:"Follow"})]}),Object(c.jsxs)("div",{style:{display:"flex",justifyContent:"space-evenly",marginTop:50,marginBottom:50,border:"1px solid rgb(197 226 219)",padding:20,borderRadius:20},children:[Object(c.jsxs)("div",{style:{textAlign:"center"},children:[Object(c.jsx)(Q.a,{style:{fontWeight:500},fontSize:"lg",children:"Total Posts"}),Object(c.jsx)(Q.a,{style:{color:"#17b890",fontWeight:700},children:s.posts.length})]}),Object(c.jsxs)("div",{style:{textAlign:"center"},children:[Object(c.jsx)(Q.a,{style:{fontWeight:500},fontSize:"lg",children:"Followers"}),Object(c.jsx)(Q.a,{style:{color:"#17b890",fontWeight:700},children:s.followers.length})]}),Object(c.jsxs)("div",{style:{textAlign:"center"},children:[Object(c.jsx)(Q.a,{style:{fontWeight:500},fontSize:"lg",children:"Following"}),Object(c.jsx)(Q.a,{style:{color:"#17b890",fontWeight:700},children:s.following.length})]})]}),Object(c.jsx)("div",{style:{marginTop:20},children:Object(c.jsx)($,{profile:s._id})})]}):Object(c.jsx)("div",{children:"Nothing"})})})),ae=n(128),se=(n(185),n(127)),ie=n.n(se),re=(n(202),Object(x.g)(Object(C.b)((function(e){return{users:e.users}}))((function(e){var t=Object(a.useState)(""),n=Object(l.a)(t,2),s=n[0],i=n[1],r=Object(a.useState)(!1),o=Object(l.a)(r,2),u=o[0],b=o[1];return Object(a.useEffect)((function(){b(""!==s)}),[s]),Object(c.jsx)("div",{style:{height:70,backgroundColor:"#17b890"},children:Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row",justifyContent:"space-between",flex:1,margin:"0px 50px",alignItems:"center",height:"100%"},children:[Object(c.jsx)("img",{style:{width:150},src:"".concat("/social-media","/Logo/header.png")}),Object(c.jsxs)("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",justifyContent:"space-between",width:250},children:[Object(c.jsxs)("div",{children:[Object(c.jsxs)(d.a,{style:{width:200,borderColor:"#358e62"},children:[Object(c.jsx)(m.a,{pointerEvents:"none",children:Object(c.jsx)(ae.a,{})}),Object(c.jsx)(j.a,{onChange:function(e){i(e.target.value)},className:"search_box",type:"tel",placeholder:"Search..."})]}),Object(c.jsx)(ie.a,{onOutsideClick:function(){b(!1)},children:Object(c.jsx)("div",{className:u?"dropdown-menu":"dropdown-menu-hidden",children:e.users.filter((function(e){if(e.Name.includes(s))return!0})).map((function(t){return Object(c.jsxs)("div",{onClick:function(){e.history.push({pathname:"/profile",state:{user:t}})},style:{display:"flex",flexDirection:"row",alignItems:"center",padding:10,cursor:"pointer"},children:[Object(c.jsx)(E.a,{size:"sm",name:t.Name,src:t.image}),Object(c.jsx)(Q.a,{style:{marginLeft:10},fontSize:"sm",children:t.Name})]})}))})})]}),Object(c.jsx)("i",{onClick:function(){localStorage.clear(),e.history.push("/Signin")},style:{fontSize:30,color:"#082D0F"},class:"fa fa-sign-out","aria-hidden":"true"})]})]})})})))),oe=function(e){var t=Object(a.useState)(!0),n=Object(l.a)(t,2);n[0],n[1];return localStorage.getItem("x-auth-token")?Object(c.jsxs)("div",{children:[Object(c.jsx)(re,{}),Object(c.jsx)(x.b,{path:e.path,component:e.component})]}):Object(c.jsx)(x.a,{path:"/signin"})},ue=function(e){return Object(c.jsxs)(x.d,{children:[Object(c.jsx)(x.b,{exact:!0,path:"/",component:L}),Object(c.jsx)(x.b,{path:"/Signup",component:A}),Object(c.jsx)(x.b,{exact:!0,path:"/Signin",component:L}),Object(c.jsx)(oe,{path:"/home",component:ee}),Object(c.jsx)(oe,{path:"/post/:id",component:te}),Object(c.jsx)(oe,{path:"/Profile",component:ce})]})};var le=function(){return Object(c.jsx)(T.a,{children:Object(c.jsx)(ue,{})})},je=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,230)).then((function(t){var n=t.getCLS,c=t.getFID,a=t.getFCP,s=t.getLCP,i=t.getTTFB;n(e),c(e),a(e),s(e),i(e)}))},de=n(59),me=n(64),be={user:{},posts:[],users:[]},fe=n(129),he=Object(me.c)((function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:be,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SIGNIN":return Object(H.a)(Object(H.a)({},e),{},{user:Object(H.a)({},t.payLoad)});case"GET_POSTS":return Object(H.a)(Object(H.a)({},e),{},{posts:Object(h.a)(t.payLoad)});case"GET_USERS":return Object(H.a)(Object(H.a)({},e),{},{users:Object(h.a)(t.payLoad)})}return e}),Object(me.a)(fe.a));r.a.render(Object(c.jsx)(s.a.StrictMode,{children:Object(c.jsx)(C.a,{store:he,children:Object(c.jsx)(de.a,{children:Object(c.jsx)(le,{})})})}),document.getElementById("root")),je()}},[[203,1,2]]]);
//# sourceMappingURL=main.d443c8e6.chunk.js.map